<!DOCTYPE html>
<script>

    'use strict'

    const doAsync = (doesResolve, timeout) => new Promise((resolve, reject) => {
        setTimeout(() => {
            if (doesResolve) {
                resolve('success!');
            } else {
                reject('failure');
            }
        }, timeout);
    });

    Promise.race([doAsync(true, 2000), doAsync(true, 1000)])
        .then(results => {
            console.log('results', results);
        });

</script>